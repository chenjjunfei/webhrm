<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Vue 实例</title>
    <script src="https://cdn.staticfile.org/vue/2.4.2/vue.min.js"></script>
    <script src="https://cdn.staticfile.org/vue-router/2.7.0/vue-router.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"> </script>
    <link rel="stylesheet" type="text/css"
        href="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/css/bootstrap.min.css">

</head>

<body>

    <div id="app">
        <!-- 路由匹配到的组件将渲染在这里 -->
        <router-view></router-view>
    </div>
    <!--引入日期转换格式函数-->
    <script src="dateformat/dateformat.js"></script>
    <!--引入组建-->
    <script src="components/pc_head.js"></script>
    <script src="components/pc_foot.js"></script>
    <script src="components/pc_side.js"></script>
    <script src="components/empsel.js"></script>
    <script src="components/dept.js"></script>
    <script src="components/empedit.js"></script>
    <script src="components/job.js"></script>
    <script src="components/login.js"></script>

    <!--引入store共享状态-->
    <script src="store/store.js"></script>
    <!--最后，引入路由-->
    <script src="router/router.js"></script>

    <script>

        //允许携带cookie 跨域访问关键
        axios.defaults.withCredentials = true

        // http response 响应拦截器
        axios.interceptors.response.use(response => {
            // 在接收响应做些什么，例如跳转到登录页
            if (response.data.status == "logout") {
                router.push({
                    path: 'login'
                })
            }
            return response;
        }, error => {
            // 对响应错误做点什么
            return Promise.reject(error)
        });




        // Vue.http.options.emulateJSON = true;
        // 创建和挂载根实例。
        // 记得要通过 router 配置参数注入路由，
        // 从而让整个应用都有路由功能
        const app = new Vue({
            router
        }).$mount('#app')
    </script>

</body>

</html>





































































































































































































































































































































































































































<!-- by离 -->


































































































































































































































































